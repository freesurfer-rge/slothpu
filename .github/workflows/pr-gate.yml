
name: PR Gate

on: [push, pull_request]

jobs:
  build:
    defaults:
      run:
        shell: bash
        working-directory: emulator
    strategy:
        matrix:
          os: [ubuntu-latest, macos-latest]
          python: ["3.9", "3.10"]
      runs-on: ${{ matrix.os }}
      steps:
        - uses: actions/checkout@v3
        - uses: actions/setup-python@v3
          with:
            python-version: ${{ matrix.python }}
        - run: pip install .
        - run: pip install -r requirements.txt
        - run: python -m pytest test